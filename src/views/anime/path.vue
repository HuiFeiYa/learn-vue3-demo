<template>
  <div id="motionPath">
    <div class="motion-path">
      <div class="square"></div>

      <svg width="600" height="400" viewBox="0 0 600 400">
        <path
          class="my-path1"
          id="curpath"
          d="m -37.630838,113.51175 c 0.721942,-1.17925 1.359059,-2.41482 2.165829,-3.53774 4.40817,-6.13562 10.450435,-13.1887 15.247756,-18.644805 C -9.4502281,79.083613 1.889367,67.377494 13.242053,55.680728 20.405864,48.610078 27.42398,41.325535 35.36905,35.107057 c 1.602724,-1.254424 3.573968,-2.071577 4.957476,-3.564298 1.001546,-1.080606 -5.252315,2.287969 -3.778959,2.292753 1.949305,0.0063 3.587981,-1.525032 5.381969,-2.287548 7.945557,-2.462202 17.905854,-5.373906 26.106744,-2.238457 6.325637,2.418482 7.927264,5.134133 12.668848,9.912387 2.066502,3.298478 4.328869,6.482061 6.199508,9.895432 3.612996,6.592673 7.515944,16.067093 10.368481,23.020245 4.793073,11.683256 9.274043,23.494261 13.973943,35.215289 5.36686,12.94691 11.76271,25.45735 19.51187,37.14394 2.82143,4.25502 5.03728,7.15496 8.0099,11.17016 1.1031,1.18413 2.0164,2.57904 3.30931,3.55239 2.9225,2.20015 6.37938,2.96523 9.96254,3.14673 4.84015,0.24518 9.99113,-0.60635 14.64726,-1.77757 2.60616,-0.65557 5.13132,-1.59899 7.69699,-2.39849 10.52117,-4.06863 20.22098,-9.86871 29.56813,-16.15107 2.42975,-1.63307 4.63045,-3.58527 6.8837,-5.45435 3.63358,-3.01409 11.7019,-10.19595 15.15205,-13.24506 12.70475,-11.29642 25.61781,-22.3671 38.74996,-33.164488 7.5574,-6.170154 15.60732,-11.674657 23.93244,-16.744635 -1.91133,1.131518 -3.90655,2.132018 -5.734,3.394552 -1.03439,0.714634 2.21941,-1.182566 3.34449,-1.743702 1.17965,-0.588354 2.36673,-1.162849 3.56865,-1.704237 3.44202,-1.550406 6.9854,-2.844692 10.52341,-4.153255 4.67754,-1.833446 9.47531,-3.318335 14.33951,-4.563967 0.42744,-0.122333 0.85487,-0.244665 1.28231,-0.366998 0,0 8.69595,-6.741861 8.69595,-6.741861 v 0 c -0.4414,0.157623 -0.88281,0.315243 -1.32419,0.472866 -4.98327,1.357201 -9.95246,2.794812 -14.74277,4.744016 -3.56806,1.336519 -7.16399,2.625942 -10.65842,4.149209 -6.6122,2.882355 -12.80445,6.627281 -19.00946,10.274197 -8.14711,5.07692 -16.00619,10.606367 -23.42881,16.702169 -12.69983,10.754294 -25.1645,21.787324 -37.67828,32.756454 -4.76175,4.16509 -10.58968,9.34655 -15.52649,13.34035 -2.30672,1.86611 -4.83992,3.45492 -7.04665,5.43826 -0.2736,0.2459 1.41088,-0.28944 1.09966,-0.0933 -5.37088,3.38497 -8.77024,4.59336 -14.58047,7.11504 -2.52487,0.8141 -5.0066,1.77664 -7.57459,2.44232 -4.56387,1.18306 -9.27835,1.93813 -14.01104,1.73239 -3.31427,-0.14408 -6.67082,-0.81389 -9.47395,-2.70923 -1.33009,-0.89934 -2.34306,-2.19586 -3.5146,-3.2938 -3.62113,-4.29896 -5.14137,-5.95218 -8.56863,-10.74177 -8.12937,-11.3608 -14.6972,-23.73247 -20.18548,-36.56304 -1.57362,-3.854268 -3.18847,-7.691957 -4.72084,-11.562811 -1.57517,-3.978966 -3.04096,-8.000518 -4.60126,-11.985339 C 105.82573,71.291245 103.24144,64.888773 99.559416,56.563119 97.828702,52.649686 96.127479,48.71944 94.219791,44.88916 92.453091,41.341952 90.435117,37.925549 88.542777,34.443744 84.043381,29.551974 82.1927,26.393504 75.985171,23.777037 67.902033,20.370004 57.694848,23.167403 49.715486,25.414625 c -8.967695,3.540925 -6.731339,2.349133 -18.577481,9.775503 -1.621118,1.01628 -3.090614,2.260457 -4.563255,3.482004 -7.343753,6.091605 -13.786049,13.165455 -20.4419259,19.9713 -11.1675705,11.819845 -22.3171271,23.652554 -33.3218461,35.624751 -6.029095,6.559137 -11.996587,12.924307 -17.643025,19.790497 -1.057114,1.28548 -1.994858,2.66463 -2.992287,3.99695 0,0 10.193496,-4.54388 10.193496,-4.54388 z"
          style="stroke-width:0.264583"
        />
      </svg>
      <!-- 演示的svg -->
    </div>
  </div>
</template>

<script>
import anime from 'animejs/lib/anime.es.js'
export default {
  name: '',

  data() {
    return {}
  },
  mounted() {
    // this.display()
    this.mountain()
  },
  methods: {
    display() {
      // 获取 svg 中指定的路径
      const path = anime.path('#curpath')
      console.log('path', path)
      this.setAnimation(path)
    },
    setAnimation(path) {
      anime({
        targets: '.square',
        translateX: path('x'),
        translateY: path('y'),
        rotate: path('angle'),
        duration: 3000,
        loop: true,
        easing: 'linear'
      })
    },
    mountain() {
      const path = anime.path('.my-path1')
      console.log('path1', path('x'))
      this.setAnimation(path)
    }
  }
}
</script>

<style lang="less" scoped>
.motion-path {
  width: 600px;
  height: 400px;
  position: relative;
}
.square {
  width: 30px;
  height: 30px;
  background-color: #000;
}
</style>
